<div dir="rtl">

# הפרויקט שלי: איך הורדתי את *כל* מידע התכנון של כפר חב"ד מהאינטרנט

## מה זה בכלל הפרויקט הזה? (בקצרה)

דמיינו שאתם רוצים לדעת **הכול** על הבנייה והתכנון בכפר חב"ד — איפה מותר לבנות, איפה יש כבישים מתוכננים, מה הגבולות של כל מגרש, אילו תכניות אושרו, ועוד.

כל המידע הזה קיים באתרים ממשלתיים, אבל הוא מפוזר בין הרבה מאוד מקורות, וקשה מאוד להוריד אותו ידנית. אז מה עשינו? **כתבנו תוכנות (סקריפטים) שהולכות לאתרים האלה אוטומטית, מורידות את הכול, ושומרות את זה לנו בתיקיות מסודרות.**

### המספרים הגדולים:
- **1,362 מסמכים** (PDF, שרטוטים, מפות) — סה"כ **1,475 MB** (~1.5 ג'יגה)
- **97 שכבות מפה** (כבישים, רכבות, יעודי קרקע, גבולות...) — **84.8 MB**
- **10,028 חלקות** + **117 גושים** (מפת המגרשים של האזור) — **40.2 MB**
- **729 תכניות** מ-Complot (מידע של הוועדה המקומית)
- **65 תכניות מפורטות** עם כל המסמכים שלהן
- **סה"כ: ~1.8 ג'יגה-בייט** של מידע!

---

## חלק 1: מילון מושגים — מה כל המילים האלה אומרות?

### תב"ע (תכנית בניין עיר)
מסמך רשמי שקובע **מה מותר לבנות** באזור מסוים. למשל: "באזור הזה מותר לבנות בתים עד 4 קומות" או "האזור הזה מיועד לפארק". כל תב"ע כוללת:
- **הוראות** — טקסט שמסביר את החוקים
- **תשריט** — מפה צבעונית שמראה את היעודים
- **נספחים** — מסמכים נוספים (תנועה, נוף, ביוב וכו')

### גוש וחלקה
ישראל מחולקת ל**גושים** (אזורים גדולים) וכל גוש מחולק ל**חלקות** (מגרשים). זה כמו כתובת של קרקע. למשל: "גוש 6260, חלקה 15" זה מגרש ספציפי בכפר חב"ד. כפר חב"ד נמצא על **127 גושים** שונים!

### GIS (מערכת מידע גאוגרפי)
תוכנה שמאפשרת לעבוד עם **מפות דיגיטליות**. במקום תמונה של מפה, ב-GIS כל אובייקט (כביש, בניין, גבול) הוא **נתון עם קואורדינטות** שאפשר לנתח, לסנן ולהציג על המפה.

### GeoJSON
פורמט קובץ ש"מתאר" צורות גאומטריות על מפה — נקודות, קווים ומצולעים (פוליגונים). כל הנתונים הגאוגרפיים שהורדנו שמורים בפורמט הזה. אפשר לפתוח אותם בתוכנות כמו QGIS או אפילו באתרים ברשת.

### API (ממשק תכנות)
דרך ש"תוכנית מחשב שלנו" מדברת עם "תוכנית מחשב באתר ממשלתי". במקום שאנחנו נכנסים ידנית לאתר ולוחצים על כפתורים — התוכנה שלנו שולחת בקשות ישירות לשרת ומקבלת חזרה מידע.

### iPlan (מנהל התכנון)
אתר ממשלתי שמכיל את **כל התכניות והמפות** של ישראל. זה כמו "גוגל מפות" אבל במקום מסעדות ורחובות, יש שם תכניות בנייה, גבולות, יעודי קרקע, כבישים מתוכננים, ועוד.

### MAVAT (מאב"ת)
מערכת מידע תכנוני ארצית — שם שומרים את **המסמכים** של כל תכנית: הוראות, תשריטים, פרוטוקולים של ישיבות, החלטות ועדות. כל מסמך הוא קובץ PDF או Word שאפשר להוריד.

### Complot
פלטפורמה של **ועדות מקומיות** (במקרה שלנו — ועדה מקומית שדות דן). שם יש מידע על בקשות להיתרי בניה, ישיבות ועדה, ותכניות מקומיות.

### קדסטר
**מפת המגרשים הרשמית** של ישראל. כל חלקת אדמה מסומנת עם גבולות מדויקים ומספר זיהוי. זה כמו "מפת השטח האמיתית" שמראה מי הבעלים של כל שטח.

### תמ"א (תכנית מתאר ארצית)
תכנית **ברמה הארצית** — למשל תמ"א 35 קובעת את מדיניות התכנון של כל ישראל: איפה יהיו ערים, איפה חקלאות, איפה שמורות טבע.

### תמ"מ (תכנית מתאר מחוזית)
תכנית **ברמה המחוזית** — למשל תמ"מ 3/21 היא של **מחוז מרכז** (שבו נמצא כפר חב"ד). היא קובעת דברים כמו כבישים ראשיים, מסילות רכבת, מגבלות רעש מנתב"ג.

---

## חלק 2: מאיפה הורדנו את המידע? (7 מקורות!)

דמיינו 7 "אתרים ממשלתיים" שונים שמכילים חלקים שונים מהפאזל:

### מקור 1: iPlan — שכבות מפה (97 שכבות!)

**מה זה:** שרת מפות של מנהל התכנון. 

**מה הורדנו:** 97 קבצי מפה בפורמט GeoJSON, סה"כ 84.8 MB. כל קובץ הוא "שכבה" אחרת על המפה:

| קטגוריה | דוגמאות | כמה שכבות |
|---------|---------|-----------|
| **תכניות באזור (Xplan)** | גבולות תכניות, נקודות חשובות, יעודי קרקע | 4 שכבות (13,630 ישויות!) |
| **תמ"מ 3/21 (מחוז מרכז)** | כבישים, רכבת, חשמל, מים, נחלים, גבולות, מגבלות רעש נתב"ג | 35 שכבות |
| **מכלול תמ"מ מרכז** | יעודי קרקע, גבול מחוז, אזורים מיוחדים | 8 שכבות |
| **תמ"א 1 (תשתיות ארציות)** | כבישים, רכבת, חשמל, גז, מים, יערות, נחלים, הצפות | 12 שכבות |
| **תמ"א 35 (מתאר ארצי)** | כבישים, רכבת, שמורות טבע, מסדרונות אקולוגיים, יערות | 14 שכבות |
| **כבישים ותחבורה** | מכלול כבישים, מחלפים, רכבת, תחנות דלק | 5 שכבות |
| **גז ודלק** | צינורות גז, צנרת דלק, אזורי סקר | 4 שכבות |
| **שימור ומורשת** | נקודות שימור, מצולעי שימור | 2 שכבות (536 ישויות) |
| **גבולות** | שיפוט, ועדים מקומיים, מרחבי תכנון, נפות, מחוזות | 5 שכבות |
| **תת"לים** | תכניות תשתית לאומית — קווים כחולים | 1 שכבה (37 תת"לים) |
| **ותמ"ל** | מתחמי דיור לאומי | 1 שכבה (35 מתחמים) |
| **אחר** | ניקוז, חומרי גלם, אזורים פונקציונליים, דפיברילטורים | 6 שכבות |

**למה זה שימושי?** אפשר להכניס את כל הקבצים האלה לתוכנת GIS (כמו QGIS) ולראות, למשל, "האם יש כביש מתוכנן שעובר דרך המגרש שלי?" או "איפה מותר לבנות בניינים גבוהים?".

---

### מקור 2: MAVAT — מסמכי תכניות (65 תכניות!)

**מה זה:** מערכת מאב"ת — המאגר הלאומי של מסמכי תכנון.

**מה הורדנו:**

**שלב א — מצאנו את התכניות:**  
1. מ-iPlan קיבלנו רשימה ראשונית של **25 תכניות** שחופפות לאזור כפר חב"ד
2. חיפשנו לפי **12 מספרי גוש** ידועים ומצאנו עוד **46 תכניות חדשות**
3. סה"כ: **71 תכניות** (65 מהן עם מסמכים בפועל)

**שלב ב — הורדנו את כל המסמכים:**

| סוג מסמך | מה זה | דוגמאות |
|----------|-------|---------|
| **הוראות תכנית** | החוקים של התכנית בטקסט | "מותר לבנות עד 12 מ', צפיפות 6 יח"ד לדונם" |
| **תשריט** | מפה צבעונית של התכנית | שטח ירוק = פארק, חום = מגורים, אפור = תעשיה |
| **פרוטוקולים** | סיכום ישיבות של ועדות התכנון | "ועדת מחוזית מרכז, ישיבה מ-15.3.2021" |
| **נספחים** | מסמכים טכניים | סקר תנועה, סקר אקולוגי, תכנית ביוב |
| **שרטוטים (DWG)** | קבצי AutoCAD — שרטוט הנדסי מדויק | גבולות מדויקים של מגרשים |
| **קבצי מפה (KML)** | מפות שאפשר לפתוח בגוגל ארץ | גבול הכחול (Blue Line) של התכנית |

**כמויות סופיות:**
- **1,362 מסמכים** בתוך 65 תיקיות
- **1,475 MB** (~1.5 ג'יגה!) של קבצים
- **סוגי קבצים:** PDF (הכי הרבה), DWG, DOC, KML, ZIP, XLS, גם PPTX ו-JPG
- **אחוז הצלחה:** 92% — רוב הכישלונות הם קבצים שפשוט לא קיימים על השרת

**לכל תכנית יש תיקייה משלה** שבתוכה:
- `_plan_data.json` — כל המטא-דאטה (מידע על המידע) של התכנית
- כל ה-PDF, DWG, DOC, KML, ZIP שמשויכים אליה

---

### מקור 3: קדסטר — מפת הגושים והחלקות

**מה זה:** מפת ישראל מחולקת למגרשים (חלקות). כל מגרש שייך לגוש.

**מה הורדנו:**
- **10,028 חלקות** — כל המגרשים באזור כפר חב"ד והסביבה
- **117 גושים** — האזורים הגדולים שמכילים את החלקות
- **גודל:** 40.2 MB (38.3 MB חלקות + 1.9 MB גושים)

**למה זה שימושי?** אם אתה רוצה לדעת מה הגבולות המדויקים של מגרש מסוים — אתה מחפש את מספר הגוש והחלקה, ומקבל את הפוליגון (הצורה) שלו על המפה.

---

### מקור 4: Complot — מידע מהוועדה המקומית (729 תכניות!)

**מה זה:** פלטפורמת Complot היא המערכת של הוועדה המקומית לתכנון ובנייה (שדות דן).

**הסיפור:** בהתחלה ניסינו להיכנס לאתר Complot עם דפדפן אוטומטי (Playwright), אבל האתר לא הראה שום מסמכים. אז מצאנו דרך אחרת — **SOAP API** (סוג ישן של API) שמחובר מאחורי הקלעים.

**מה הורדנו דרך ה-SOAP API:**
- **729 מספרי תכניות** שקשורות לכפר חב"ד
- **634 שמות תכניות** (לא לכולן יש שם)
- **10 מספרי גושים** שהמערכת מכירה
- **17 שמות ישובים** בתחום הוועדה
- **70 סוגי תב"ע** (סיווגים שונים של תכניות)
- **4 סטטוסים** של תכניות (מאושרת, בהפקדה וכו')

הנתונים האלה נשמרו ב-12 קבצי XML ו-JSON.

---

### מקור 5: services8.arcgis.com — שכבות מידע נוספות

**מה זה:** שרת ArcGIS נוסף שמכיל מידע ממשלתי מגוון.

**מה עשינו:** סרקנו **60+ שירותים** (זיהום אוויר, בתי ספר, אוניברסיטאות, תעשיה, מים, GPS, בתי עלמין, חופים ועוד). רוב השירותים לא היו רלוונטיים לאזור כפר חב"ד.

**מה מצאנו:** שכבה אחת — **137 דפיברילטורים** באזור (ציוד הצלה).

---

### מקור 6: data.gov.il — מאגרי מידע ממשלתיים

**מה זה:** אתר "ממשל פתוח" — שם הממשלה מפרסמת מאגרי מידע בחינם.

**מה חיפשנו:** "תכנון ובניה", "כפר חבד", "היתרי בניה", "יעוד קרקע", "גושים חלקות"

**מה מצאנו:**
- **5 מאגרים רלוונטיים** (קטלוג)
- **2 קבצי CSV שהורדנו:**
  - **פנקס הקבלנים הרשומים** — רשימת קבלנים מורשים
  - **דרישות בטיחות אש להיתרי בניה** — דרישות כיבוי אש

---

### מקור 7: CBS (הלשכה המרכזית לסטטיסטיקה)

**מה זה:** הלמ"ס — הגוף שאוסף נתונים סטטיסטיים על ישראל.

**מה הורדנו:** רשומת ישוב של **כפר חב"ד** (קוד יישוב: 376) מתוך טבלת הישובים ב-data.gov.il.

---

## חלק 3: איך זה עובד? (הקסם הטכני)

### השפה: Python

כל הסקריפטים כתובים ב-**Python** — שפת תכנות פופולרית שמצוינת לעבודה עם נתונים ואתרי אינטרנט.

### הכלים העיקריים:

| כלי | מה הוא עושה | משל |
|-----|-------------|-----|
| **requests** | שולח בקשות HTTP לאתרים | כמו דפדפן, אבל בלי את החלון הגרפי |
| **Playwright** | מפעיל דפדפן אמיתי (Chromium) באופן אוטומטי | כמו רובוט שיושב מול המחשב ולוחץ על כפתורים |
| **json** | קורא ושומר קבצי JSON | הפורמט שבו רוב ה-APIs מחזירים מידע |
| **base64** | ממיר קבצים בינאריים (PDF, DWG) לטקסט ובחזרה | כי אי אפשר לשלוח PDF ישר דרך JavaScript |

### 4 טריקים מיוחדים שהשתמשנו בהם:

#### טריק 1: SSL מותאם אישית
השרת של iPlan משתמש בהגדרות אבטחה ישנות שדפדפנים רגילים לא אוהבים. בנינו "מתאם SSL מיוחד" שמרפה את הדרישות כדי שנוכל לתקשר עם השרת.

#### טריק 2: עקיפת reCAPTCHA
אתר מאב"ת מוגן ע"י **Google reCAPTCHA v3** (המערכת שבודקת שאתה לא רובוט). איך עקפנו?
1. פתחנו את הדף בדפדפן אוטומטי (Playwright)
2. הפעלנו את `grecaptcha.execute()` **מתוך הדפדפן עצמו** (כאילו אנחנו משתמש אמיתי)
3. קיבלנו טוקן (מפתח זמני) שתקף לכמה דקות
4. השתמשנו בטוקן כדי להוריד מסמכים דרך ה-API

#### טריק 3: יירוט תגובות API
כשהדפדפן פותח דף תכנית ב-MAVAT, ברקע מתבצעת קריאת API שמחזירה **JSON עם כל הנתונים**. במקום לנסות לגרד את ה-HTML, פשוט "יירטנו" (intercepted) את תגובת השרת וקיבלנו מידע נקי ומסודר.

#### טריק 4: הורדה בתוך הדפדפן
כדי להוריד קובץ PDF מוגן:
1. יצרנו בקשת XHR **בתוך JavaScript** של הדף
2. קיבלנו את הקובץ כ-`arraybuffer` (בתים גולמיים)
3. המרנו את הבתים ל-**base64** (טקסט)
4. העברנו את הטקסט חזרה ל-Python
5. Python פענח את ה-base64 ושמר כקובץ PDF

### מדוע לא הורדנו הכול בפעם אחת?

שרתים ממשלתיים מגבילים את כמות המידע שאפשר לקבל בפעם אחת (בד"כ **1,000 רשומות**). אז השתמשנו ב-**דפדוף (Pagination)** — מבקשים 1,000 רשומות, ואז עוד 1,000, ועוד 1,000, עד שמקבלים הכול.

השתמשנו ב-**3 שיטות דפדוף שונות** כי כל שרת תומך בשיטה אחרת:
1. **objectid** — "תן לי את הרשומות אחרי מספר X"
2. **resultOffset** — "תן לי את הרשומות החל ממיקום X"
3. **בלי דפדוף** — כשיש פחות מ-1,000 תוצאות, פשוט מבקשים הכול

### הגנה מפני כשלים

- **המשכה מהמקום שעצרנו:** אם הסקריפט נופל באמצע, הוא לא מתחיל מחדש — הוא בודק איזה קבצים כבר הורדו ומדלג עליהם
- **ניסיון חוזר:** מסמכים שנכשלו בפעם הראשונה — ניסינו שוב, ושחזרנו 31 מתוך 84
- **הגבלת קצב:** חיכינו 1.5 שניות בין הורדות ו-3 שניות בין תכניות, כדי לא "להציף" את השרת

---

## חלק 4: מה יש בכל תיקייה? (מבנה הקבצים)

```
data/                                 ← התיקייה הראשית
│
├── taba_kfar_chabad.geojson          ← מפת 25 תכניות של כפר חב"ד
├── yeudei_karka_merkaz.geojson       ← מפת יעודי קרקע (מחוז מרכז)
├── all_plans_by_block.json           ← רשימת 71 תכניות שמצאנו
├── all_documents_index.json          ← אינדקס של 1,888 מסמכים
├── mavat_extracted_metadata.json     ← כל המטא-דאטה מ-65 תכניות
├── blocks_parcels_by_plan.json       ← מיפוי: גוש → תכניות
├── building_rights_summary.json      ← זכויות בנייה (23 תכניות)
├── plan_instructions_summary.json    ← הוראות תכניות (53 תכניות)
│
├── docs/                             ← 65 תיקיות של תכניות
│   ├── 425-0449702/                  ← תיקיית תכנית אחת
│   │   ├── _plan_data.json           ← כל המידע על התכנית (מ-MAVAT)
│   │   ├── *.pdf                     ← הוראות, תשריטים, פרוטוקולים
│   │   ├── *.dwg                     ← שרטוטי AutoCAD
│   │   ├── *.kml                     ← מפות (גוגל ארץ)
│   │   └── *.doc / *.zip             ← מסמכים וארכיונים
│   ├── גז_ 525_ 23_ א/              ← תכניות עם שמות בעברית
│   └── ... (65 תיקיות בסה"כ)
│
├── gis_layers/                       ← 97 שכבות מפה
│   ├── xplan_*.geojson               ← תכניות באזור
│   ├── tmm321_*.geojson              ← תמ"מ 3/21 (מחוז מרכז)
│   ├── tmm_merkaz_*.geojson          ← מכלול תמ"מ מרכז
│   ├── tama1_*.geojson               ← תמ"א 1 (תשתיות)
│   ├── tama35_*.geojson              ← תמ"א 35 (מתאר ארצי)
│   ├── road_compilation_*.geojson    ← כבישים
│   ├── gas_*.geojson                 ← גז ודלק
│   ├── shimour_*.geojson             ← שימור
│   ├── gvulot_*.geojson              ← גבולות
│   └── ...                           ← תת"לים, ותמ"ל, ניקוז ועוד
│
├── cadastre/                         ← מפת המגרשים
│   ├── parcels_kfar_chabad.geojson   ← 10,028 חלקות
│   └── blocks_kfar_chabad.geojson    ← 117 גושים
│
├── complot_kfar_chabad/              ← מידע מהוועדה המקומית
│   ├── complot_parsed.json           ← 729 תכניות, 634 שמות...
│   ├── complot_wsdl.xml              ← הגדרת ה-API
│   └── soap_Get*.xml                 ← 8 תגובות SOAP
│
├── cbs/                              ← נתוני הלמ"ס
│   └── kfar_chabad_localities.json   ← פרופיל ישוב
│
└── data_gov_il/                      ← מממשל פתוח
    ├── relevant_datasets.json        ← קטלוג 5 מאגרים
    └── *.csv                         ← קבלנים, בטיחות אש
```

---

## חלק 5: כל 65 התכניות שהורדנו

### תכניות מספריות (29 תכניות מ-כפר חב"ד ישירות)
אלה תכניות עם מספר מזהה "425-" — המספר של כפר חב"ד במערכת:

425-0117390, 425-0449702, 425-0486316, 425-0498865, 425-0541870, 425-0589184, 425-0712950, 425-0736678, 425-0774018, 425-0800557, 425-1030113, 425-1153212, 425-1248244, 425-1254218, 425-1279140, 425-1279793, 425-1285790, 425-1303775, 425-1306505, 425-1308469, 425-1313394, 425-1348390, 425-1348440, 425-1348473, 425-1383173, 425-1393933, 425-1405075, 425-1467992, 425-1560473

### תכניות גזית (16 תכניות)
תכניות של **מועצה אזורית גזר** (כפר חב"ד שייך לגזר):

גז/45, גז/525/2, גז/525/2/א, גז/525/3, גז/525/4, גז/525/12, גז/525/21, גז/525/23, גז/525/23/א, גז/525/27/א, גז/62, גז/624, גז/במ/525/19, גז/מק/525/28, גז/מק/525/30, גז/מק/525/34

### תכניות ארציות ומחוזיות (20 תכניות)
תכניות ברמה גבוהה יותר שחלות על האזור:

455-0812289, גמ/525, גמ/548, יד/מק/6137, יוש/51/51, מח/150, מח/150/1, משמ/115/גז, על/525/2/א, על/525/43, על/525/48, על/מק/525/40, על/מק/525/48, פת/1205/22, תמא/4/2/א/2, תממ/3/21/42, תתל/26/202, תתל/33, תתל/66, 6/03/230

---

## חלק 6: אינדקס המסמכים — 1,888 מסמכים מ-6 מקורות

עשינו אינדקס (רשימה מסודרת) של כל מסמך שקיים ב-65 התכניות:

| מקור | מה זה | כמה מסמכים | בכמה תכניות |
|------|-------|-----------|-------------|
| **rsPlanDocs** | מסמכי תכנית עיקריים (הוראות, תשריט) | 240 | 55 |
| **rsPlanDocsAdd** | מסמכים נוספים (DWG, SHP, CAD) | 498 | 54 |
| **rsPlanDocsGen** | מסמכים כלליים (תשריטים, KML, נוסחי פרסום) | 873 | 56 |
| **rsPubDocs** | מסמכי פרסום (הודעות, מודעות) | 109 | 19 |
| **rsDes** | החלטות ועדות ופרוטוקולים | 144 | 29 |
| **rsMeetingsDocs** | מסמכי ישיבות | 24 | 7 |
| **סה"כ** | | **1,888** | **65** |

### סוגי קבצים (כמה מכל סוג):
- **PDF:** 1,075 קבצים (הכי נפוץ — הוראות, תשריטים, פרוטוקולים)
- **ZIP:** 201 (ארכיונים עם Shapefiles ונתוני GIS)
- **DWG:** 188 (שרטוטי AutoCAD)
- **KML:** 128 (מפות לגוגל ארץ)
- **DOC:** 113 (מסמכי Word ישנים)
- **XLS:** 73 (גיליונות אלקטרוניים)
- **DOCX:** 29 (מסמכי Word חדשים)
- **DXF:** 20 (שרטוטים)
- **JPG:** 10 (תמונות)

---

## חלק 7: סיכום ביצועים — המספרים הסופיים

| מה | כמה | גודל |
|----|-----|------|
| תכניות שמצאנו | 71 (iPlan + חיפוש גושים) + 729 (Complot) | — |
| תכניות עם מסמכים | 65 | — |
| מסמכים שהורדנו | 1,362 קבצים | 1,475 MB |
| מסמכים באינדקס | 1,888 רשומות | — |
| שכבות GIS | 97 קבצי GeoJSON | 84.8 MB |
| חלקות קדסטר | 10,028 | 38.3 MB |
| גושים | 117 | 1.9 MB |
| נתוני Complot | 729 תכניות, 634 שמות | ~150 KB |
| זכויות בנייה | 23 תכניות | — |
| הוראות תכניות | 53 תכניות | — |
| **גודל כולל** | | **~1.8 GB** |

### אחוזי הצלחה:
- **מסמכים:** 92% (רוב הכישלונות = קבצים שלא קיימים על השרת)
- **שכבות GIS:** 100% (97 מתוך 97)
- **מקורות ששימשו:** 7 מתוך 7 ✅

---

## חלק 8: רשימת כל הסקריפטים (תוכנות שכתבנו)

### סקריפטים ראשיים (ההורדות)

| סקריפט | מה הוא עושה |
|---------|-------------|
| `download_taba_kfar_chabad.py` | הורדת 25 תכניות מ-iPlan |
| `download_central_yeudei_karka.py` | הורדת מפת יעודי קרקע |
| `search_plans_by_block.py` | חיפוש 46 תכניות חדשות לפי גוש |
| `download_kfar_chabad_docs.py` | הורדת מסמכים ל-25 תכניות ראשונות |
| `download_new_plans_docs.py` | הורדת מסמכים ל-46 תכניות חדשות |
| `download_gen_docs.py` | הורדת 873 מסמכים כלליים (rsPlanDocsGen) |
| `download_iplan_layers.py` | הורדת 73 שכבות GIS |
| `download_iplan_retry.py` | ניסיון חוזר לשכבות שנכשלו |
| `download_iplan_final.py` | ניסיון אחרון עם שיטה אחרת |
| `download_cadastre.py` | הורדת 10,028 חלקות + 117 גושים |
| `download_additional_data.py` | הורדה ממקורות נוספים (TMM, services8, CBS) |
| `download_complot_kfar_chabad.py` | ניסיון הורדה מ-Complot (SPA) |
| `retry_failed_downloads.py` | ניסיון חוזר ל-84 מסמכים שנכשלו |

### סקריפטים של חילוץ וניתוח

| סקריפט | מה הוא עושה |
|---------|-------------|
| `extract_mavat_metadata.py` | חילוץ מטא-דאטה מ-65 תכניות |
| `extract_all_doc_metadata.py` | יצירת אינדקס 1,888 מסמכים |
| `_fix_complot_soap.py` | תיקון ה-SOAP API של Complot |
| `_parse_complot.py` | ניתוח תגובות Complot ל-JSON |
| `_discover_services.py` | סריקת 45+ שירותי iPlan |

### סקריפטי עזר (בדיקות ומחקר)
עוד כ-30 סקריפטים של ניסויים, בדיקות, ומחקר API — כולם מתחילים ב-`_` (קו תחתון).

---

## חלק 9: שאלות ותשובות

### ❓ למה בכלל צריך את כל המידע הזה?
כדי להבין **מה מותר ומה אסור לבנות** בכפר חב"ד. המידע הזה שימושי לאדריכלים, יזמים, עורכי דין, ותושבים שרוצים לדעת מה מתוכנן באזור שלהם.

### ❓ האם זה חוקי?
כן! כל המידע הזה הוא **מידע ציבורי** שהמדינה מחויבת לפרסם. ה-APIs פתוחים לשימוש, והנתונים זמינים לכולם. פשוט עשינו את זה באופן אוטומטי במקום ידני.

### ❓ מה ההבדל בין iPlan ל-MAVAT?
**iPlan** = מפות ושכבות (GIS) — איפה דברים נמצאים על המפה.  
**MAVAT** = מסמכים — ה-PDF וה-Word עם ההוראות, התשריטים והפרוטוקולים.

### ❓ מה זה "קו כחול" (Blue Line)?
הגבול של תכנית על המפה. כשרואים ב-GIS קו כחול — זה אומר "התכנית הזו חלה על כל מה שבתוך הקו".

### ❓ למה כמה מסמכים נכשלו?
בעיקר שני סוגים:
1. **DXF "תוצאות חיתוך מול תמ״א"** — קבצים שפשוט נמחקו מהשרת
2. **SHP "תשריט ממ"ג"** — קבצים שהשרת מחזיר עליהם תגובה ריקה

### ❓ אפשר להציג את הנתונים על מפה?
כן! **QGIS** (תוכנה חינמית) יכולה לפתוח את כל קבצי ה-GeoJSON ולהציג אותם כשכבות על מפה אחת. גם **Google Earth** יכול לפתוח קבצי KML.

---

*נוצר אוטומטית — פברואר 2026*

</div>
